{% set grid_size = theme_var('grid-size') %}
{% set columns = page.header.class == 'small' ? 'col-3 col-md-4 col-sm-6' : 'col-4 col-md-6 col-sm-12' %}
<section class="section modular-features {{ page.header.class }}" aria-label="Features section">
    <div class="container {{ grid_size }}">
        <div class="frame-box">

            {{ content|raw }}

            <div class="columns" role="list" aria-label="Features list">
            {% for feature in page.header.features %}
                <div class="column {{ columns }}" role="listitem">
                    {% if feature.url %}
                        <a href="{{ feature.url }}" aria-label="{{ feature.header|default('Feature link') }}">
                    {% endif %}
                    
                    <div class="feature-icon">
                        <i class="fa fa-fw {{ feature.icon }}" aria-hidden="true"></i>
                        {% if feature.header %}
                            <h6>{{ feature.header }}</h6>
                        {% endif %}
                    </div>
                    
                    {% if feature.url %}</a>{% endif %}
                    
                    <div class="feature-content">
                        {% if feature.text %}
                            <p>{{ feature.text }}</p>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
            </div>
        </div>
    </div>
</section>
